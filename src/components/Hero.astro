---
import Button from "./ui-kit/Button.astro";
---

<section class="hero">
  <div class="hero-bg"></div>
  <div class="hero-container">
    <div class="hero-content">
      <div class="tagline">
        <span class="text">VINDEX – Expertise Juridique</span>
      </div>

      <h1 class="text-h1">Défendre les droits.<br />Maîtriser la procédure.</h1>

      <p class="body1 subtitle">
        Cabinet d'avocats dédié au contentieux photovoltaïque, à la postulation
        en appel et à la procédure participative.
      </p>

      <!-- removed from the description
        Nous interposons le droit pour protéger vos intérêts.
      -->

      <div class="actions">
        <Button href="/contact" variant="primary" theme="dark"
          >Prendre rendez-vous</Button
        >
        <Button href="/domaines" variant="secondary" theme="dark"
          >Nos domaines d'intervention</Button
        >
      </div>
    </div>

    <div class="client-logos">
      <div class="logo-slider">
        <div class="logo-track">
          {
            [
              "Contentieux photovoltaïque",
              "Postulation en appel",
              "Procédure participative",
              "Droit de la construction",
              "Droit immobilier",
              "Droit des assurances",
              "Responsabilité civile",
              "Droit des contrats",
            ].map((text) => (
              <>
                <span class="expertise-item">{text}</span>
                <span class="separator">•</span>
              </>
            ))
          }
          {
            [
              "Contentieux photovoltaïque",
              "Postulation en appel",
              "Procédure participative",
              "Droit de la construction",
              "Droit immobilier",
              "Droit des assurances",
              "Responsabilité civile",
              "Droit des contrats",
            ].map((text) => (
              <>
                <span class="expertise-item">{text}</span>
                <span class="separator">•</span>
              </>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .hero {
    position: sticky; /* Sticky positioning for parallax overlap effect */
    top: 0;
    width: 100%;
    min-height: 100vh;
    height: 100vh; /* Ensure full height */
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #08110f;
    color: #f5f5f5;
    overflow: hidden;
    padding: 24px;
    z-index: 0; /* Lower z-index so PracticeAreas slides OVER it */
  }

  .hero-bg {
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 1440px;
    height: 100%;
    background-image: url("/hero-bg.avif");
    background-size: cover;
    background-position: center;
    opacity: 0.8;
    z-index: 1;
  }

  .hero-container {
    position: relative;
    z-index: 3;
    width: 100%;
    max-width: 1440px;
    margin: 0 auto;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .hero-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 32px;
  }

  .tagline {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 8px 16px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 100px;
    backdrop-filter: blur(10px);
  }

  .tagline .text {
    font-family: var(--font-sans);
    font-size: 0.8rem;
    font-weight: 500;
    letter-spacing: 0.05em;
    color: #ffffff;
  }

  h1 {
    font-size: clamp(2.5rem, 8vw, 4.5rem);
    line-height: 1;
    margin: 0;
    letter-spacing: -0.04em;
    color: #ffffff;
  }

  .subtitle {
    max-width: 60ch;
    color: rgba(255, 255, 255, 0.7);
    font-size: 1.1rem;
    line-height: 1.6;
    margin: 0;
  }

  .actions {
    display: flex;
    gap: 16px;
    margin-top: 8px;
  }

  .client-logos {
    margin-top: 96px; /* Reduced top margin to keep it closer */
    width: 100%;
    max-width: 960px; /* Constrain width to match hero content */
    opacity: 0.7;
    /* Progressive edges mask */
    mask-image: linear-gradient(
      to right,
      transparent,
      black 20%,
      black 80%,
      transparent
    );
    -webkit-mask-image: linear-gradient(
      to right,
      transparent,
      black 20%,
      black 80%,
      transparent
    );
  }

  .logo-slider {
    width: 100%;
    overflow: hidden;
    padding: 10px 0;
  }

  .logo-track {
    display: flex;
    align-items: center;
    width: max-content;
    gap: 0;
    animation: marquee 60s linear infinite;
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .expertise-item {
    font-family: var(
      --font-sans
    ); /* Switch back to sans for better readability at small size? Or keep heading? User said 'look small'. Sans usually reads better small. Let's try Sans or keep heading but small. The previous was Heading. Let's stick with Heading but smaller if it's uppercase. */
    font-family: var(--font-heading);
    font-size: 1rem;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.64);
    white-space: nowrap;
    padding: 0 1.5rem;
    text-transform: uppercase;
    letter-spacing: 0.2em;
  }

  .separator {
    color: var(--color-primary);
    font-size: 0.6rem; /* Small dot */
    opacity: 0.8;
  }

  @media (max-width: 768px) {
    .hero {
      padding: 64px 16px;
      height: auto;
      min-height: 100vh;
    }
    .actions {
      flex-direction: column;
      width: 100%;
    }
    .client-logos {
      max-width: 100%; /* Allow slightly wider on mobile if needed, or keep constrained? Let's keep it responsive. */
      mask-image: linear-gradient(
        to right,
        transparent,
        black 10%,
        black 90%,
        transparent
      );
      -webkit-mask-image: linear-gradient(
        to right,
        transparent,
        black 10%,
        black 90%,
        transparent
      );
    }
    .expertise-item {
      font-size: 0.75rem;
      padding: 0 1rem;
    }
    .separator {
      font-size: 0.5rem;
    }
  }
</style>

<script>
  /**
   * Main Hero Scroll Animations
   * Uses the reusable scrollAnimations module for:
   * - Hero content entrance animations (staggered fade-in)
   * - Client logos fade-in animation
   * - Parallax scroll effect on hero container
   *
   * Required CSS classes:
   * - .hero-content > * : Content elements with staggered entrance
   * - .client-logos : Logo slider section
   * - .hero-container : Parallax target
   * - .hero-bg : Background element (required for parallax check)
   */
  import { initMainHeroAnimations } from "../scripts/scrollAnimations.js";
  initMainHeroAnimations();
</script>
