---
import Button from "./ui-kit/Button.astro";
import ContentHeader from "./ui-kit/ContentHeader.astro";
import { ArrowRight } from "lucide-astro";
---

<section id="cabinet-preview" class="cabinet-preview">
  <div class="background-decor"></div>

  <div class="container">
    <div class="grid-layout">
      <!-- Content Column (Left) -->
      <div class="text-col">
        <div class="content-wrapper">
          <ContentHeader
            eyebrow="Le Cabinet"
            title="Rigueur juridique &"
            titleSecondLine="Stratégie procédurale"
            description={[
              '<strong class="text-primary">VINDEX</strong> incarne une vision exigeante de la profession d\'avocat. Implanté à Douai, notre cabinet est une référence en matière de <span class="highlight">défense des consommateurs</span> et de maîtrise des procédures d\'appel.',
              "Nous sommes convaincus que la technicité du droit ne doit jamais obscurcir la clarté de la stratégie. Chaque dossier est traité avec une précision chirurgicale, veillant au respect scrupuleux des formes et des délais qui font la force d'une défense inébranlable.",
            ]}
          />

          <div class="experience-badge">
            <span class="stat-number">20+</span>
            <span class="stat-label">Années d'expérience cumulée</span>
          </div>

          <div class="actions">
            <Button href="/cabinet" variant="primary" class="custom-btn">
              Découvrir notre vision
              <ArrowRight class="btn-icon" width={18} height={18} />
            </Button>
          </div>
        </div>
      </div>

      <!-- Visual Column (Right) -->
      <div class="visual-col">
        <img
          src="/asset5.webp"
          alt="Cabinet VINDEX - Bureau et expertise juridique"
          class="cabinet-image"
        />
      </div>
    </div>
  </div>
</section>

<style>
  .cabinet-preview {
    position: relative;
    padding: 128px 24px;
    height: auto;
    display: flex;
    align-items: center;
    background-color: #fafafa;
    overflow: hidden;
  }

  .background-decor {
    position: absolute;
    top: -20%;
    right: -10%;
    width: 60vw;
    height: 60vw;
    background: radial-gradient(
      circle,
      rgba(var(--color-primary-rgb), 0.05) 0%,
      transparent 70%
    );
    pointer-events: none;
    z-index: 0;
  }

  .container {
    width: 100%;
    max-width: 1440px;
    margin: 0 auto;
    z-index: 1;
  }

  .grid-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    align-items: center;
  }

  /* Visual Column Styles */
  .visual-col {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .cabinet-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 4px;
    max-height: 600px;
  }

  /* Text Column Styles */
  .text-col {
    padding-right: 20px;
  }

  .content-wrapper {
    max-width: 560px;
  }

  /* Experience Badge (formerly card) */
  .experience-badge {
    margin: 24px 0 32px 0;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .stat-number {
    font-family: var(--font-heading);
    font-size: 2.5rem;
    line-height: 1;
    color: var(--color-primary);
    font-weight: 600;
  }

  .stat-label {
    font-family: var(--font-sans);
    font-size: 0.9rem;
    color: var(--color-text-main);
    line-height: 1.2;
    font-weight: 500;
  }

  /* Utility classes for description HTML */
  .text-primary {
    color: var(--color-primary);
    font-weight: 500;
  }

  .highlight {
    background: linear-gradient(
      to right,
      rgba(var(--color-primary-rgb), 0.15) 0%,
      transparent 100%
    );
    padding: 0 4px;
    border-radius: 2px;
  }

  .actions {
    margin-top: 10px;
  }

  .custom-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
  }

  .btn-icon {
    transition: transform 0.3s ease;
  }

  .custom-btn:hover .btn-icon {
    transform: translateX(4px);
  }

  @media (max-width: 1024px) {
    .cabinet-preview {
      padding: 0 16px 64px;
      height: auto;
    }

    .grid-layout {
      grid-template-columns: 1fr;
      gap: 0;
    }

    .text-col {
      padding-right: 0;
      order: 2;
    }

    .visual-col {
      order: 1;
    }

    .cabinet-image {
      max-height: 400px;
      width: 100%;
    }

    .experience-card {
      width: 100%;
    }
  }

  @media (max-width: 768px) {
    .custom-btn {
      width: 100%;
      justify-content: center;
    }
  }
</style>
